<div ng-include="'js/app/agent/views/widgets/menu.html'"></div>

<div class="col-md-9" role="main">
    <div class="content">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h1 translate>Widgets List</h1>
                <input type="text" ng-model="search" class="form-control" placeholder="Search" />
            </div>
            <table class="table table-hover">
                <thead>
                <tr>
                    <th translate>Url</th>
                    <th translate>Plan</th>
                    <th translate>Balance</th>
                    <th translate>Chats</th>
                    <th translate>Agents</th>
                    <th translate>Actions</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="widget in widgets | filter:search | orderBy:'uid'" class="panel panel-default" ng-class="{ enabled: widget.status }">
                    <td><a href="{{widget.url}}">{{widget.url}}</a></td>
                    <td><a href="#">{{widget.plan.name}}</a></td>
                    <td>{{widget.balance}}</a></td>
                    <td>{{widget.available_agents}}</td>
                    <td>
                        <a href="/agent/widgets/edit/{{widget.uid}}" class="btn btn-primary" translate>Edit</a>
                        <a href="/agent/widgets/pay/{{widget.uid}}" class="btn btn-success" translate>Pay</a>
                        <a href="/agent/widgets/plan/{{widget.uid}}" class="btn btn-warning" translate>Plan</a>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
        <blockquote>
            <pre>
                <code>
                    &lt;script&gt;
                        var widgetOptions = {
                            uid: 1
                        };

                        (function() {
                            var script = document.createElement('script');
                            script.type = 'text/javascript';
                            script.async = true;
                            script.src = "http://widget.regidium.com/widget.js";
                            document.getElementsByTagName('head')[0].appendChild(script);
                        })();
                    &lt;/script&gt;
                </code>
            </pre>
        </blockquote>
    </div>
</div>